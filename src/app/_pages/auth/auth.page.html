<!--
  This HTML template represents the authentication page of the app.
  It contains a login form where users can enter their email and password to log in.
-->

<ion-content
  [fullscreen]="true"
  class="ion-padding center-content"
  style="display: flex; justify-content: center; align-items: center"
>
  <div style="display: flex; flex-direction: column; align-items: center">
    <ion-img
      src="https://www.cameronsworld.net/img/content/20/10.gif"
      style="width: 200px; height: 200px"
    >
    </ion-img>
    <ion-card>
      <ion-card-header>
        <ion-card-title class="ion-text-center"
          >Bienvenido a la app!</ion-card-title
        >
        <ion-card-subtitle class="ion-text-center"
          >Ingrese sesión</ion-card-subtitle
        >
      </ion-card-header>

      <ion-card-content>
        <form
          style="
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
          "
          [formGroup]="loginForm"
          (ngSubmit)="loginForm.valid && login()"
          autocomplete="off"
        >
          <!-- Input field for email -->
          <app-text-input
            [type]="'email'"
            [formControl]="$any(loginForm.controls['email'])"
            label="Ingrese su correo"
            placeholder="@gmail.com"
            requiredMessage="El correo es requerido"
          ></app-text-input>

          <!-- Input field for password -->
          <app-text-input
            [type]="'password'"
            [formControl]="$any(loginForm.controls['password'])"
            label="Ingrese su contraseña"
            placeholder="********"
            requiredMessage="La contraseña es requerida"
            style="margin-top: 10px; margin-bottom: 10px"
          ></app-text-input>

          <!-- Error message display -->
          <div
            *ngIf="errorMessage"
            style="
              border: 0.5rem 0.5rem;
              margin: 0.5rem 0.5rem;
              padding: 0.5rem 0.5rem;
              font-size: 0.875rem;
              color: #991b1b;
              background-color: #fef2f2;
              border-radius: 0.375rem;
            "
            role="alert"
          >
            <span class="font-medium">Error!</span>
            {{ errorMessage }}
          </div>

          <!-- Login button -->
          <button
            style="
              width: fit-content;
              margin: auto;
              padding: 0.75rem 0.75rem;
              border: 0.75rem 0.75rem;
              font-size: 0.875rem;
              font-weight: 500;
              text-align: center;
              color: #ffffff;
              background-color: #1e3a8a;
              border-radius: 0.375rem;
            "
            [disabled]="!loginForm.valid"
            [ngStyle]="
              loginForm.valid
                ? { 'background-color': '#1e3a8a', 'cursor': 'pointer' }
                : { 'background-color': '#6366f1', 'cursor': 'not-allowed' }
            "
            type="submit"
          >
            Ingresar
          </button>
        </form>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
